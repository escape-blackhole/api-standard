# 管理员请求与响应规范
## 目录
- [管理员登录](#管理员登录)  -- 二清（完成）
- [管理员注册](#管理员注册)  -- 二清（完成）
- [检查用户名是否存在](#检查用户名是否存在)  -- 二清（完成）
- [文件浏览](#文件浏览)  -- 二清（未完成）
- [文件修改](#文件修改)  -- 二清（未完成）
- [文件删除](#文件删除)  -- 二清（未完成）
- [文件上传](#文件上传)  -- 二清（未完成）
- [文件搜索](#文件搜索)  -- 二清（未完成）


### 管理员登录

> request
```
route: /console/login
method: post
{
	"adminname":"123123",
	"password":"1231223"
}
```

> response
```
{
    "status": 200,
    "msg": "登录成功",
    "data": {
        "adminId": 104,
        "adminname": "123123",
        "password": ""
    },
    "success": true
}
{
    "status": 500,
    "msg": "用户名或密码错误",
    "data": null,
    "success": false
}
```

### 管理员注册

> request
```
route: /console/register
method: post
{
	"adminname":"123123",
	"password":"1231223"
}
```

> response
```
{
    "status": 500,
    "msg": "用户名已存在",
    "data": null,
    "success": false
}
{
    "status": 200,
    "msg": "注册成功",
    "data": null,
    "success": true
}
```



### 检查用户名是否存在

> request
```
route: /console/check
method: post
{
	"adminname":"123123"
}
```

> response
```
{
    "status": 500,
    "msg": "用户名已存在",
    "data": null,
    "success": false
}
{
    "status": 200,
    "msg": ""用户名不存在"",
    "data": null,
    "success": true
}
```




### 文件浏览

#### 请求
```
route: /console/file/list?pageNum=1&pageSize=10
method: get
param: pageNum, pageSize
```

#### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": [
    {
      "filename": "文件名",
      "filehash": string
      "state": 1, // 文件状态
      "path": "/image/",
      "download_count": 120,
      "collect_count": 199,
      "like_count": 100,
      "course": "数据库",
      "type": "Word",
      "username": '用户名',
      "sex": "男",
      "nickname": "花名",
      "id": "201500000",
      "gmt_create": "2015-05-02",
      "school": "湖北汽车工业学院",
      "date": '2016-05-02',
      "grade": "2015",
      "major": '软件工程'
    },
    ...
  ]
}
```

### 文件修改

#### 请求
```
route: /console/file/{hash}
method: put

{
  "filename": "文件名",
  "course": "课程名",
}
```

#### 响应
```
{
  "status": http 状态码,
  "msg": "用户提示信息",
  "data": null
}
```
### 文件删除

#### 请求
```
route: /console/file/batch
method: delete

{
  data: [
    "hash1", "hash2", ...
  ]
}
```

#### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "success": ["hash1", "hash2", ...],
    "fail": ["hash1", "hash2", ...]
  }
}
```

## 文件上传

### 请求
```
route: /console/file/batch
method: post

{
  "data": [
    {
      "fileName": "文件名",
      "fileHash": "文件摘要值",
      "fileUrl": "文件相对路径"
    },
    ...
  ],
}
```

### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "success": ["hash1", "hash2"],
    "fail": ["hash2", "hash2"]
  }
}
```

## 文件搜索

### 请求
```
route: /console/file/filter?keywords="关键词"&pageSize=10&pageNum=1
method: get
```

### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "total": number,
    "list": [
      {
        "fileName": "文件名",
        "fileHash": "文件摘要",
        "待定": "待定"
      }
    ]
  }
}
```
