# 管理员请求与响应规范
## 目录
- [文件浏览](#文件浏览)
- [文件修改](#文件修改)
- [文件删除](#文件删除)

### 文件浏览

#### 请求
```
route: /console/file/list?index=1&size=10
method: get
param: index, size
```

#### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": [
    {
      "filename": "文件名",
      "filehash": string
      "state": 1, // 文件状态
      "path": "/image/",
      "download_count": 120,
      "collect_count": 199,
      "like_count": 100,
      "course": "数据库",
      "type": "Word",
      "username": '用户名',
      "sex": "男",
      "nickname": "花名",
      "id": "201500000",
      "gmt_create": "2015-05-02",
      "school": "湖北汽车工业学院",
      "date": '2016-05-02',
      "grade": "2015",
      "major": '软件工程'
    },
    ...
  ]
}
```

### 文件修改

#### 请求
```
route: /console/file/{hash}
method: put

{
  "filename": "文件名",
  "course": "课程名",
}
```

#### 响应
```
{
  "status": http 状态码,
  "msg": "用户提示信息",
  "data": null
}
```
### 文件删除

#### 请求
```
route: /console/file/batch
method: delete

{
  data: [
    "hash1", "hash2", ...
  ]
}
```

#### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "success": ["hash1", "hash2", ...],
    "fail": ["hash1", "hash2", ...]
  }
}
```

## 文件上传

### 请求
```
route: /console/file/batch
method: post

{
  "data": [
    {
      "filename": "文件名",
      "filehash": "文件摘要值",
      "path": "文件相对路径",
      "gmt_create": "时间戳"
    },
    ...
  ],
}
```

### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "success": ["hash1", "hash2"],
    "fail": ["hash2", "hash2"]
  }
}
```

## 文件搜索

### 请求
```
route: /console/file/filter?keywords="关键词"&size=10&index=1
method: get
```

### 响应
```
{
  "status": number,
  "msg": "用户提示信息",
  "data": {
    "total": number,
    "list": [
      {
        "filename": "文件名",
        "filehash": "文件摘要",
        "待定": "待定"
      }
    ]
  }
}
```
